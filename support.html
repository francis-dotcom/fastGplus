<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support | Grand Plus College</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=1772166623">
    <link rel="icon" href="images/logo.png" type="image/png" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <style>
        /* Center toast in the middle of the screen */
        .toastify { top: 50% !important; left: 50% !important; transform: translate(-50%, -50%) !important; bottom: auto !important; right: auto !important; }
    </style>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <header class="header">
        <div class="container header-content">
            <h1 class="brand">
                <a href="/" class="brand-link">
                    <img src="images/logo.png" alt="" class="logo-img">
                    <span data-school-brand class="school-name"></span>
                </a>
            </h1>
            <button id="hamburger-btn" class="hamburger-btn" aria-label="Open menu">
                <i data-lucide="menu"></i>
            </button>
        </div>
    </header>
<main>
      <!-- Support Hero (same style as About) -->
      <section class="section-hero support-page-hero" style="background-image: url('images/feedback.jpg');">
        <div class="container">
          <h2 class="text-display mb-sm text-white">Support</h2>
          <p class="text-lg text-white opacity-90 mx-auto" style="max-width: 420px;">
            Get help with admissions, payments, and student services.
          </p>
        </div>
      </section>

      <!-- Quick Help Options -->
      <section class="section-padding-sm section-light">
        <div class="container">
          <h3 class="section-title" style="font-size: 14px;">Quick Help Options</h3>
          <div class="support-list">
            <button type="button" class="support-list-item"><span>Admissions Help</span></button>
            <button type="button" class="support-list-item"><span>Payment Issues</span></button>
            <button type="button" class="support-list-item"><span>Application Status</span></button>
            <button type="button" class="support-list-item"><span>Technical Support</span></button>
          </div>
        </div>
      </section>

      <!-- Common Issues -->
      <section class="section-padding-sm">
        <div class="container">
          <h3 class="section-title" style="font-size: 14px;">Common Issues</h3>
          <div class="support-list">
            <button type="button" class="support-list-item"><span>How do I pay my fees?</span></button>
            <button type="button" class="support-list-item"><span>How do I track my application?</span></button>
            <button type="button" class="support-list-item"><span>I didn’t receive my receipt.</span></button>
          </div>
        </div>
      </section>

      <!-- Contact Form -->
      <section class="section-padding-sm section-light">
        <div class="container">
          <h3 class="section-title" style="font-size: 14px;">Contact Form</h3>
          <form id="support-contact-form" class="d-flex flex-column gap-sm" style="max-width: 400px;">
            <input type="text" name="name" placeholder="Name" class="w-full section-light" style="border: none; border-radius: 8px; padding: 12px; font-size: 13px; font-family: var(--font-main);">
            <input type="email" name="email" placeholder="Email" class="w-full section-light" style="border: none; border-radius: 8px; padding: 12px; font-size: 13px; font-family: var(--font-main);">
            <select name="category" class="w-full section-light text-muted" style="border: none; border-radius: 8px; padding: 12px; font-size: 13px; font-family: var(--font-main);">
              <option value="" disabled selected>Category</option>
              <option value="admissions">Admissions Help</option>
              <option value="payments">Payment Issues</option>
            </select>
            <textarea name="message" placeholder="Message" class="w-full section-light" style="border: none; border-radius: 8px; padding: 12px; font-size: 13px; font-family: var(--font-main); height: 80px; resize: none;"></textarea>
            <button type="submit" class="btn btn-primary btn-md btn-block">Submit</button>
          </form>
        </div>
      </section>

      <!-- Direct Contact & Office Hours -->
      <section class="section-padding-sm">
        <div class="container">
          <h3 class="section-title" style="font-size: 14px;">Direct Contact</h3>
          <div class="card">
            <p class="text-sm fw-medium text-primary mb-xs">Phone: +1 202 555 0183</p>
            <p class="text-sm fw-medium text-primary mb-sm">Email: support@grandpluscollege.edu</p>
            <h4 class="fw-bold mb-xs" style="font-size: 13px;">Office Hours</h4>
            <p class="text-sm text-muted mb-0">Mon–Fri, 9am–5pm. Typical response: within 24 hours.</p>
          </div>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="school-brand.js"></script>
    <script src="menu.js?v=1772166623"></script>
    <script>
        lucide.createIcons();

        (function() {
            var SELFDB_API_URL = 'https://grandpluscollege.com/api';
            var SELFDB_API_KEY = 'selfdb-bd66637d-60dc-cf8a-a1aa-037f1b37d7b9';

            var form = document.getElementById('support-contact-form');
            if (!form) return;

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                var nameEl = form.querySelector('[name="name"]');
                var emailEl = form.querySelector('[name="email"]');
                var categoryEl = form.querySelector('[name="category"]');
                var messageEl = form.querySelector('[name="message"]');
                var btn = form.querySelector('button[type="submit"]');

                var name = nameEl && nameEl.value ? nameEl.value.trim() : '';
                var email = emailEl && emailEl.value ? emailEl.value.trim() : '';
                var category = categoryEl && categoryEl.value ? categoryEl.value.trim() : '';
                var message = messageEl && messageEl.value ? messageEl.value.trim() : '';

                if (!name || !email || !message) {
                    if (window.Toastify) {
                        Toastify({ text: 'Please fill in Name, Email, and Message.', duration: 3500, gravity: 'top', position: 'center', style: { background: '#334e68' } }).showToast();
                    } else { alert('Please fill in Name, Email, and Message.'); }
                    return;
                }

                var originalText = btn ? btn.textContent : 'Submit';
                if (btn) { btn.disabled = true; btn.textContent = 'Sending…'; }

                var headers = { 'X-API-Key': SELFDB_API_KEY, 'Content-Type': 'application/json' };
                fetch(SELFDB_API_URL.replace(/\/$/, '') + '/tables/?search=contact_submissions&limit=1', { headers: headers })
                    .then(function(r) { if (!r.ok) throw new Error('API error'); return r.json(); })
                    .then(function(tables) {
                        var tableId = tables[0] && tables[0].id;
                        if (!tableId) throw new Error('Table not found');
                        return fetch(SELFDB_API_URL.replace(/\/$/, '') + '/tables/' + tableId + '/data', {
                            method: 'POST',
                            headers: headers,
                            body: JSON.stringify({ name: name, email: email, category: category || null, message: message })
                        });
                    })
                    .then(function(r) {
                        if (!r.ok) throw new Error(r.statusText || 'Send failed');
                        if (window.Toastify) {
                            Toastify({ text: "Thank you. Your message has been sent. We'll get back to you soon.", duration: 4000, gravity: 'top', position: 'center', style: { background: '#0b4f9c' } }).showToast();
                        } else { alert("Thank you. Your message has been sent."); }
                        form.reset();
                    })
                    .catch(function(err) {
                        if (window.Toastify) {
                            Toastify({ text: 'Could not send message. Please try again or email us directly.', duration: 4000, gravity: 'top', position: 'center', style: { background: '#b91c1c' } }).showToast();
                        } else { alert('Could not send message. Please try again.'); }
                        console.error(err);
                    })
                    .finally(function() {
                        if (btn) { btn.disabled = false; btn.textContent = originalText; }
                    });
            });
        })();
    </script>
</body>
</html>
