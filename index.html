<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grand Plus College | Home</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css?v=1771987187" />
    <link rel="icon" href="logo.png" type="image/png" />
    <script src="https://unpkg.com/lucide@latest"></script>
  </head>
  <body>
    <header class="header">
      <div class="container header-content">
        <h1 class="brand">
          <a href="index.html" class="brand-link">
            <img src="logo.png" alt="Grand Plus College Logo" class="logo-img">
            Grand Plus College
          </a>
        </h1>
        <button id="hamburger-btn" class="hamburger-btn" aria-label="Open menu">
          <i data-lucide="menu"></i>
        </button>
      </div>
    </header>

    <div id="mobile-menu-overlay" class="mobile-menu-overlay">
      <div class="mobile-menu-drawer">
        <div class="mobile-menu-header">
          <div class="brand">Grand Plus College</div>
          <button id="mobile-menu-close" class="mobile-menu-close" aria-label="Close menu">
            <i data-lucide="x"></i>
          </button>
        </div>
        
        <a href="https://gpceportal.com" class="portal-login-link">Portal/Login</a>

        <nav class="mobile-menu-nav">
          <a href="index.html" class="mobile-menu-link active">Home</a>
          <a href="about.html" class="mobile-menu-link">About Us</a>
          <a href="programs.html" class="mobile-menu-link">Programs</a>
          <a href="admissions.html" class="mobile-menu-link">Admissions</a>
          <a href="fees.html" class="mobile-menu-link">Fees & Payments</a>
          <a href="support.html" class="mobile-menu-link">Support</a>
        </nav>
        <div class="mobile-menu-footer">
          <a href="apply.html" class="btn btn-primary btn-lg btn-block">Apply Now</a>
        </div>
      </div>
    </div>

    <main>
      <!-- Hero Section -->
      <section class="hero">
        <div class="container hero-container">
          <div class="hero-image-wrap">
            <img
              src="https://images.unsplash.com/photo-1758613171813-56eef6b4fc51?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w4NDM0ODN8MHwxfHJhbmRvbXx8fHx8fHx8fDE3NzE5MDMwOTd8&ixlib=rb-4.1.0&q=80&w=600"
              alt="Students at Grand Plus College"
              class="hero-img"
            />
          </div>
          <div class="hero-text">
            <span class="hero-badge">Admissions Open</span>
            <h1 class="hero-title">Start Your Journey Today</h1>
            <p class="hero-sub">
              Apply in minutes. Explore programs, requirements, and deadlines.
            </p>
            <div class="hero-actions">
              <a href="apply.html" class="btn btn-primary btn-block">Apply Now</a>
              <a href="programs.html" class="btn btn-secondary btn-block">Explore Programs</a>
            </div>
            <div class="hero-meta">
              <span>Fast online application</span>
              <span>Scholarships available</span>
              <span>Flexible payments</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Program Finder Section -->
      <section class="program-finder">
        <div class="container">
          <h3 class="section-title">Find Your Program</h3>
          <p class="section-sub">Choose a department to see matching programs.</p>
          <div class="custom-dropdown" id="dept-dropdown">
            <button class="dropdown-trigger" id="dropdown-trigger">
              <span id="trigger-text">Select department</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="drop-icon"><path d="m6 9 6 6 6-6"/></svg>
            </button>
            <div class="dropdown-list" id="dropdown-list">
              <button type="button" class="pf-option chip" data-dept="health">Health Sciences</button>
              <button type="button" class="pf-option chip" data-dept="technology">Technology &amp; IT</button>
              <button type="button" class="pf-option chip" data-dept="business">Business &amp; Econ</button>
              <button type="button" class="pf-option chip" data-dept="computer">Computer Education</button>
              <button type="button" class="pf-option chip" data-dept="languages">Languages &amp; Religion</button>
              <button type="button" class="pf-option chip" data-dept="science">Integrated Science</button>
              <button type="button" class="pf-option chip" data-dept="math">Math &amp; Physical Sciences</button>
              <button type="button" class="pf-option chip" data-dept="social">Social &amp; Political Sciences</button>
              <button type="button" class="pf-option chip" data-dept="education">Education Programs</button>
            </div>
          </div>

          <script>
            const trigger = document.getElementById('dropdown-trigger');
            const list = document.getElementById('dropdown-list');
            const triggerText = document.getElementById('trigger-text');

            trigger.addEventListener('click', (e) => {
              e.stopPropagation();
              list.classList.toggle('active');
              trigger.classList.toggle('active');
            });

            list.addEventListener('click', (e) => {
              const option = e.target.closest('.pf-option');
              if (!option) return;
              const selectedDept = option.dataset.dept;
              if (!selectedDept) return;
              triggerText.innerText = option.innerText;
              list.classList.remove('active');
              trigger.classList.remove('active');
              window.location.href = 'programs.html?dept=' + selectedDept;
            });

            document.addEventListener('click', () => {
              list.classList.remove('active');
              trigger.classList.remove('active');
            });
          </script>
        </div>
      </section>

      <!-- Why Choose Section -->
      <section class="why-choose">
        <div class="container">
          <h3 class="section-title">Why Choose Grand Plus</h3>
          <ul class="feature-list">
            <li>92% graduate employment rate</li>
            <li>Industry-aligned programs</li>
            <li>Scholarships and flexible payment plans</li>
          </ul>
        </div>
      </section>

      <!-- How to Apply Section -->
      <section class="how-to-apply">
        <div class="container">
          <h3 class="section-title">How to Apply</h3>
          <ol class="step-list">
            <li>Choose your program</li>
            <li>Complete the online application</li>
            <li>Submit required documents</li>
          </ol>
        </div>
      </section>

      <!-- Entry Requirements Section -->
      <section class="requirements">
        <div class="container">
          <h3 class="section-title">Entry Requirements</h3>
          <ul class="req-list">
            <li>High school certificate or equivalent</li>
            <li>Valid ID and passport photo</li>
            <li>Program-specific prerequisites</li>
          </ul>
        </div>
      </section>

      <!-- Cost & Payment Options Section -->
      <section class="costs">
        <div class="container">
          <h3 class="section-title">Cost & Payment Options</h3>
          <ul class="feature-list">
            <li>Payment plans available for all major programs</li>
            <li>Scholarships available for qualified applicants</li>
            <li>Transparent tuition ranges by faculty and level</li>
          </ul>
          <a href="fees.html" class="btn btn-primary btn-cta">See Payment Options</a>
        </div>
      </section>

      <!-- Scholarship Highlight Section -->
      <section class="scholarship-highlight">
        <div class="container scholarship-box">
          <h3 class="highlight-title">Scholarships Available</h3>
          <div class="highlight-text">
            Need-based and merit awards are open each intake with dedicated advisor support.
          </div>
          <a href="support.html" class="btn btn-primary btn-cta">See Scholarships</a>
        </div>
      </section>

      <!-- Deadlines Section -->
      <section class="deadlines">
        <div class="container">
          <h3 class="section-title">Deadlines & Key Dates</h3>
          <ul class="date-list">
            <li><strong>Mar 15:</strong> Regular Admission Deadline</li>
            <li><strong>Apr 05:</strong> Scholarship Application Deadline</li>
          </ul>
        </div>
      </section>

      <!-- Testimonials Section -->
      <section class="testimonials">
        <div class="container">
          <h3 class="section-title">Student Testimonials</h3>
          <div id="testimonial-container">
            <div class="testimonial-card">
              <blockquote class="quote" id="testimonial-quote">
                Loading testimonials...
              </blockquote>
              <cite class="citation" id="testimonial-author">
                <span class="testimonial-author" id="testimonial-author-name"></span>
                <span class="testimonial-sep">, </span>
                <span class="testimonial-dept" id="testimonial-author-dept"></span>
              </cite>
            </div>
          </div>
        </div>
      </section>

      <script>
        document.addEventListener('DOMContentLoaded', async () => {
          const quoteEl = document.getElementById('testimonial-quote');
          const authorEl = document.getElementById('testimonial-author');
          const authorNameEl = document.getElementById('testimonial-author-name');
          const authorDeptEl = document.getElementById('testimonial-author-dept');
          const testimonialSection = document.querySelector('.testimonials');
          let started = false;
          
          async function fetchTestimonials() {
            try {
              const response = await fetch('/api/tables/testimonials/rows', {
                headers: { 
                  'Accept': 'application/json',
                  'X-API-Key': 'selfdb-bd66637d-60dc-cf8a-a1aa-037f1b37d7b9'
                }
              });
              const data = await response.json();
              return data.data || [];
            } catch (err) {
              console.error('Failed to fetch testimonials:', err);
              return [];
            }
          }

          function clearCursors() {
            document.querySelectorAll('.cursor').forEach((c) => c.remove());
          }

          function typeWriterWords(text, i, cb) {
            const words = text.split(' ');
            if (i < words.length) {
              clearCursors();
              quoteEl.innerHTML = words.slice(0, i + 1).join(' ') + ' <span class="cursor">|</span>';
              setTimeout(() => typeWriterWords(text, i + 1, cb), 600);
            } else {
              clearCursors();
              quoteEl.innerHTML = text + ' <span class="cursor">|</span>';
              if (cb) setTimeout(cb, 5000); // Wait before next one
            }
          }

          function typeWriterWordsTarget(el, text, i, cb) {
            const words = text.split(' ');
            if (i < words.length) {
              clearCursors();
              el.innerHTML = words.slice(0, i + 1).join(' ') + ' <span class="cursor">|</span>';
              setTimeout(() => typeWriterWordsTarget(el, text, i + 1, cb), 600);
            } else {
              clearCursors();
              el.innerHTML = text + ' <span class="cursor">|</span>';
              if (cb) setTimeout(cb, 5000);
            }
          }

          async function startTestimonialCycle() {
            if (started) return;
            started = true;
            const testimonials = await fetchTestimonials();
            if (testimonials.length === 0) {
              typeWriterWords("“Grand Plus gave me the confidence I needed to succeed.”", 0);
              if (authorNameEl) authorNameEl.textContent = "";
              if (authorDeptEl) authorDeptEl.textContent = "";
              typeWriterWordsTarget(authorNameEl, "Amina Yusuf", 0, () => {
                typeWriterWordsTarget(authorDeptEl, "IT Graduate", 0);
              });
              return;
            }

            function showNext() {
              const testimonialList = Array.isArray(testimonials) ? testimonials : [];
              if (testimonialList.length === 0) return;
              
              const item = testimonialList[Math.floor(Math.random() * testimonialList.length)];
              
              authorEl.style.opacity = 1;
              if (authorNameEl) authorNameEl.textContent = "";
              if (authorDeptEl) authorDeptEl.textContent = "";
              typeWriterWords(`“${item.quote}”`, 0, () => {
                typeWriterWordsTarget(authorNameEl, `${item.student_name}`, 0, () => {
                  typeWriterWordsTarget(authorDeptEl, `${item.program_graduated}`, 0, () => {
                    setTimeout(showNext, 5000);
                  });
                });
              });
            }

            showNext();
          }

          if (testimonialSection && 'IntersectionObserver' in window) {
            const observer = new IntersectionObserver((entries, obs) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  startTestimonialCycle();
                  obs.disconnect();
                }
              });
            }, { threshold: 0.3 });
            observer.observe(testimonialSection);
          } else {
            startTestimonialCycle();
          }
        });
      </script>

      <style>
        .cursor {
          display: inline-block;
          width: 2px;
          height: 1em;
          background-color: #1f8b4c;
          margin-left: 2px;
          vertical-align: -0.1em;
          animation: blink 0.7s infinite;
        }
        #testimonial-quote {
          color: #1f8b4c;
        }
        #testimonial-author {
          color: #1f8b4c;
        }
        .testimonial-sep {
          opacity: 0.7;
        }
        @keyframes blink {
          0% { opacity: 1; }
          50% { opacity: 0; }
          100% { opacity: 1; }
        }
        #testimonial-author {
          transition: opacity 0.5s ease-in-out;
        }
      </style>

      <!-- Admissions Support Section -->
      <section class="support">
        <div class="container support-box">
          <h3 class="support-title">Need Help With Admissions?</h3>
          <p class="support-text">Chat with admissions or request a call.</p>
          <button class="btn btn-secondary btn-md">Contact Admissions</button>
        </div>
      </section>

    </main>
    <script src="menu.js"></script>
    <script>
      lucide.createIcons();
    </script>
  </body>
</html>
