<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grand Plus College | Home</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css?v=1.2" />
    <link rel="icon" href="logo.png" type="image/png" />
    <script src="https://unpkg.com/lucide@latest"></script>
  </head>
  <body>
    <header class="header">
      <div class="container header-content">
        <h1 class="brand">
          <a href="index.html" class="brand-link">
            Grand Plus College
          </a>
        </h1>
        <button id="hamburger-btn" class="hamburger-btn" aria-label="Open menu">
          <i data-lucide="menu"></i>
        </button>
      </div>
    </header>

    <div id="mobile-menu-overlay" class="mobile-menu-overlay">
      <div class="mobile-menu-drawer">
        <div class="mobile-menu-header">
          <div class="brand">Grand Plus College</div>
          <button id="mobile-menu-close" class="mobile-menu-close" aria-label="Close menu">
            <i data-lucide="x"></i>
          </button>
        </div>
        
        <a href="https://gpceportal.com" class="portal-login-link">Portal/Login</a>

        <nav class="mobile-menu-nav">
          <a href="index.html" class="mobile-menu-link active">Home</a>
          <a href="about.html" class="mobile-menu-link">About Us</a>
          <a href="programs.html" class="mobile-menu-link">Programs</a>
          <a href="admissions.html" class="mobile-menu-link">Admissions</a>
          <a href="fees.html" class="mobile-menu-link">Fees & Payments</a>
          <a href="support.html" class="mobile-menu-link">Support</a>
        </nav>
        <div class="mobile-menu-footer">
          <a href="apply.html" class="btn btn-primary btn-lg btn-block">Apply Now</a>
        </div>
      </div>
    </div>

    <main>
      <!-- Hero Section -->
      <section class="hero">
        <div class="container hero-container">
          <div class="hero-image-wrap">
            <img
              src="https://images.unsplash.com/photo-1758613171813-56eef6b4fc51?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w4NDM0ODN8MHwxfHJhbmRvbXx8fHx8fHx8fDE3NzE5MDMwOTd8&ixlib=rb-4.1.0&q=80&w=600"
              alt="Students at Grand Plus College"
              class="hero-img"
            />
          </div>
          <div class="hero-text">
            <h1 class="hero-title">Start Your College Journey Today</h1>
            <p class="hero-sub">
              Apply in minutes. Explore programs, requirements, and deadlines.
            </p>
            <a href="apply.html" class="btn btn-primary">Apply Now</a>
          </div>
        </div>
      </section>

      <!-- Program Finder Section -->
      <section class="program-finder">
        <div class="container">
          <h3 class="section-title">Find Your Program</h3>
          <div class="custom-dropdown" id="dept-dropdown">
            <button class="dropdown-trigger" id="dropdown-trigger">
              <span id="trigger-text">Select department</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="drop-icon"><path d="m6 9 6 6 6-6"/></svg>
            </button>
            <div class="dropdown-list" id="dropdown-list">
              <div class="dropdown-row" data-value="languages">Languages &amp; Religious Studies</div>
              <div class="dropdown-row" data-value="computer">Computer &amp; Science Education</div>
              <div class="dropdown-row" data-value="science">Integrated Science</div>
              <div class="dropdown-row" data-value="math">Mathematics &amp; Physical Sciences</div>
              <div class="dropdown-row" data-value="social">Social &amp; Political Sciences</div>
              <div class="dropdown-row" data-value="education">Education Programs</div>
            </div>
          </div>

          <script>
            const trigger = document.getElementById('dropdown-trigger');
            const list = document.getElementById('dropdown-list');
            const rows = document.querySelectorAll('.dropdown-row');
            const triggerText = document.getElementById('trigger-text');

            trigger.addEventListener('click', (e) => {
              e.stopPropagation();
              list.classList.toggle('active');
              trigger.classList.toggle('active');
            });

            rows.forEach(row => {
              row.addEventListener('click', () => {
                const selectedDept = row.dataset.value;
                triggerText.innerText = row.innerText;
                list.classList.remove('active');
                trigger.classList.remove('active');
                
                // Navigate immediately
                window.location.href = 'programs.html?dept=' + selectedDept;
              });
            });

            document.addEventListener('click', () => {
              list.classList.remove('active');
              trigger.classList.remove('active');
            });
          </script>
        </div>
      </section>

      <!-- Why Choose Section -->
      <section class="why-choose">
        <div class="container">
          <h3 class="section-title">Why Choose Grand Plus</h3>
          <div class="section-text">92% graduate employment rate</div>
          <div class="section-text">Industry-aligned programs</div>
          <div class="section-text">Scholarships and flexible payment plans</div>
        </div>
      </section>

      <!-- How to Apply Section -->
      <section class="how-to-apply">
        <div class="container">
          <h3 class="section-title">How to Apply</h3>
          <div class="section-text">1. Choose your program</div>
          <div class="section-text">2. Complete online application</div>
          <div class="section-text">3. Submit required documents</div>
        </div>
      </section>

      <!-- Entry Requirements Section -->
      <section class="requirements">
        <div class="container">
          <h3 class="section-title">Entry Requirements</h3>
          <div class="section-text">High school certificate or equivalent</div>
          <div class="section-text">Valid ID and passport photo</div>
          <div class="section-text">Program-specific prerequisites</div>
        </div>
      </section>

      <!-- Cost & Payment Options Section -->
      <section class="costs">
        <div class="container">
          <h3 class="section-title">Cost & Payment Options</h3>
          <div class="section-text">Payment plans available for all major programs</div>
          <div class="section-text">Scholarships available for qualified applicants</div>
          <div class="section-text">Transparent tuition ranges by faculty and level</div>
          <a href="fees.html" class="btn btn-primary btn-cta">See Payment Options</a>
        </div>
      </section>

      <!-- Scholarship Highlight Section -->
      <section class="scholarship-highlight">
        <div class="container scholarship-box">
          <h3 class="highlight-title">Scholarships Available</h3>
          <div class="highlight-text">
            Need-based and merit awards are open each intake with dedicated advisor support.
          </div>
          <a href="support.html" class="btn btn-primary btn-cta">See Scholarships</a>
        </div>
      </section>

      <!-- Deadlines Section -->
      <section class="deadlines">
        <div class="container">
          <h3 class="section-title">Deadlines & Key Dates</h3>
          <div class="section-text">Mar 15: Regular Admission Deadline</div>
          <div class="section-text">Apr 05: Scholarship Application Deadline</div>
        </div>
      </section>

      <!-- Testimonials Section -->
      <section class="testimonials">
        <div class="container">
          <h3 class="section-title">Student Testimonials</h3>
          <div id="testimonial-container">
            <div class="testimonial-card">
              <blockquote class="quote" id="testimonial-quote">
                Loading testimonials...
              </blockquote>
              <cite class="citation" id="testimonial-author"></cite>
            </div>
          </div>
        </div>
      </section>

      <script>
        document.addEventListener('DOMContentLoaded', async () => {
          const quoteEl = document.getElementById('testimonial-quote');
          const authorEl = document.getElementById('testimonial-author');
          
          async function fetchTestimonials() {
            try {
              const response = await fetch('/api/tables/testimonials/rows', {
                headers: { 
                  'Accept': 'application/json',
                  'X-API-Key': 'selfdb-bd66637d-60dc-cf8a-a1aa-037f1b37d7b9'
                }
              });
              const data = await response.json();
              return data.data || [];
            } catch (err) {
              console.error('Failed to fetch testimonials:', err);
              return [];
            }
          }

          function typeWriter(text, i, cb) {
            if (i < text.length) {
              quoteEl.innerHTML = text.substring(0, i + 1) + '<span class="cursor">|</span>';
              setTimeout(() => typeWriter(text, i + 1, cb), 30);
            } else {
              quoteEl.innerHTML = text; // Final text without cursor
              if (cb) setTimeout(cb, 5000); // Wait before next one
            }
          }

          async function startTestimonialCycle() {
            const testimonials = await fetchTestimonials();
            if (testimonials.length === 0) {
              quoteEl.innerText = "“Grand Plus gave me the confidence I needed to succeed.”";
              authorEl.innerText = "Amina Yusuf, IT Graduate";
              return;
            }

            function showNext() {
              const testimonialList = Array.isArray(testimonials) ? testimonials : [];
              if (testimonialList.length === 0) return;
              
              const item = testimonialList[Math.floor(Math.random() * testimonialList.length)];
              
              authorEl.style.opacity = 0;
              typeWriter(`“${item.quote}”`, 0, () => {
                authorEl.innerText = `${item.student_name}, ${item.program_graduated}`;
                authorEl.style.opacity = 1;
                setTimeout(showNext, 5000);
              });
            }

            showNext();
          }

          startTestimonialCycle();
        });
      </script>

      <style>
        .cursor {
          display: inline-block;
          width: 2px;
          background-color: var(--primary-blue);
          margin-left: 2px;
          animation: blink 0.7s infinite;
        }
        @keyframes blink {
          0% { opacity: 1; }
          50% { opacity: 0; }
          100% { opacity: 1; }
        }
        #testimonial-author {
          transition: opacity 0.5s ease-in-out;
        }
      </style>

      <!-- Admissions Support Section -->
      <section class="support">
        <div class="container support-box">
          <h3 class="support-title">Need Help With Admissions?</h3>
          <p class="support-text">Chat with admissions or request a call.</p>
          <button class="btn btn-secondary btn-md">Contact Admissions</button>
        </div>
      </section>

      <!-- Marketing Claims Section -->
      <section class="marketing-footer">
        <div class="container">
          <h3 class="marketing-title">Why We Stand Out</h3>
          <p class="marketing-text">
            Career-first curriculum. Industry mentors. Global-ready graduates.
          </p>
        </div>
      </section>
    </main>
    <script src="menu.js"></script>
    <script>
      lucide.createIcons();
    </script>
  </body>
</html>
